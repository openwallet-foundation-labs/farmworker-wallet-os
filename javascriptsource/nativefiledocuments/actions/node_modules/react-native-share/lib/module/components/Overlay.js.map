{"version":3,"sources":["Overlay.tsx"],"names":["React","Animated","StyleSheet","DEFAULT_ANIMATE_TIME","styles","create","emptyOverlay","backgroundColor","height","position","width","fullOverlay","bottom","left","right","top","Overlay","visible","children","fadeAnim","useState","Value","overlayStyle","setOverlayStyle","onAnimatedEnd","useCallback","useEffect","timing","toValue","duration","useNativeDriver","start","opacity"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,QAAT,EAA8BC,UAA9B,QAA2D,cAA3D;AAEA,MAAMC,oBAAoB,GAAG,GAA7B;AACA,MAAMC,MAAM,GAAGF,UAAU,CAACG,MAAX,CAAkB;AAC/BC,EAAAA,YAAY,EAAE;AACZC,IAAAA,eAAe,EAAE,aADL;AAEZC,IAAAA,MAAM,EAAE,CAFI;AAGZC,IAAAA,QAAQ,EAAE,UAHE;AAIZC,IAAAA,KAAK,EAAE;AAJK,GADiB;AAO/BC,EAAAA,WAAW,EAAE;AACXJ,IAAAA,eAAe,EAAE,aADN;AAEXK,IAAAA,MAAM,EAAE,CAFG;AAGXC,IAAAA,IAAI,EAAE,CAHK;AAIXJ,IAAAA,QAAQ,EAAE,UAJC;AAKXK,IAAAA,KAAK,EAAE,CALI;AAMXC,IAAAA,GAAG,EAAE;AANM;AAPkB,CAAlB,CAAf;;AAqBA,MAAMC,OAAwD,GAAG,CAAC;AAAEC,EAAAA,OAAF;AAAWC,EAAAA;AAAX,CAAD,KAA2B;AAC1F,QAAM,CAACC,QAAD,IAAanB,KAAK,CAACoB,QAAN,CAAe,IAAInB,QAAQ,CAACoB,KAAb,CAAmB,CAAnB,CAAf,CAAnB;AACA,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCvB,KAAK,CAACoB,QAAN,CAAqChB,MAAM,CAACE,YAA5C,CAAxC;AAEA,QAAMkB,aAAa,GAAGxB,KAAK,CAACyB,WAAN,CAAkB,MAAM;AAC5C,QAAI,CAACR,OAAL,EAAc;AACZM,MAAAA,eAAe,CAACnB,MAAM,CAACE,YAAR,CAAf;AACD;AACF,GAJqB,EAInB,CAACW,OAAD,CAJmB,CAAtB;AAMAjB,EAAAA,KAAK,CAAC0B,SAAN,CAAgB,MAAM;AACpB,QAAIT,OAAJ,EAAa;AACXM,MAAAA,eAAe,CAACnB,MAAM,CAACO,WAAR,CAAf;AACD;;AACD,WAAOV,QAAQ,CAAC0B,MAAT,CAAgBR,QAAhB,EAA0B;AAC/BS,MAAAA,OAAO,EAAEX,OAAO,GAAG,CAAH,GAAO,CADQ;AAE/BY,MAAAA,QAAQ,EAAE1B,oBAFqB;AAG/B2B,MAAAA,eAAe,EAAE;AAHc,KAA1B,EAIJC,KAJI,CAIEP,aAJF,CAAP;AAKD,GATD,EASG,CAACP,OAAD,EAAUE,QAAV,EAAoBK,aAApB,CATH;AAWA,sBAAO,oBAAC,QAAD,CAAU,IAAV;AAAe,IAAA,KAAK,EAAE,CAACF,YAAD,EAAe;AAAEU,MAAAA,OAAO,EAAEb;AAAX,KAAf;AAAtB,KAA8DD,QAA9D,CAAP;AACD,CAtBD;;AAwBA,eAAeF,OAAf","sourcesContent":["import * as React from 'react';\nimport { Animated, StyleProp, StyleSheet, ViewStyle } from 'react-native';\n\nconst DEFAULT_ANIMATE_TIME = 300;\nconst styles = StyleSheet.create({\n  emptyOverlay: {\n    backgroundColor: 'transparent',\n    height: 0,\n    position: 'absolute',\n    width: 0,\n  },\n  fullOverlay: {\n    backgroundColor: 'transparent',\n    bottom: 0,\n    left: 0,\n    position: 'absolute',\n    right: 0,\n    top: 0,\n  },\n});\n\nexport interface OverlayProps {\n  visible: boolean;\n}\n\nconst Overlay: React.FC<React.PropsWithChildren<OverlayProps>> = ({ visible, children }) => {\n  const [fadeAnim] = React.useState(new Animated.Value(0));\n  const [overlayStyle, setOverlayStyle] = React.useState<StyleProp<ViewStyle>>(styles.emptyOverlay);\n\n  const onAnimatedEnd = React.useCallback(() => {\n    if (!visible) {\n      setOverlayStyle(styles.emptyOverlay);\n    }\n  }, [visible]);\n\n  React.useEffect(() => {\n    if (visible) {\n      setOverlayStyle(styles.fullOverlay);\n    }\n    return Animated.timing(fadeAnim, {\n      toValue: visible ? 1 : 0,\n      duration: DEFAULT_ANIMATE_TIME,\n      useNativeDriver: false,\n    }).start(onAnimatedEnd);\n  }, [visible, fadeAnim, onAnimatedEnd]);\n\n  return <Animated.View style={[overlayStyle, { opacity: fadeAnim }]}>{children}</Animated.View>;\n};\n\nexport default Overlay;\n"]}